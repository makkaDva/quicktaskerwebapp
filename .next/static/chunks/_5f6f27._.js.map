{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Desktop/quicktaskerwebapp/lib/supabase.js"],"sourcesContent":["// Импортујте Supabase клијент\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\n// Иницијализујте Supabase клијент са env променљивима\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n\r\n// Експортујте клијент за употребу у другим фајловима\r\nexport default supabase"],"names":[],"mappings":"AAAA,8BAA8B;;;;AAC9B;AAIE;;AAFF,sDAAsD;AACtD,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD;uCAMb"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Desktop/quicktaskerwebapp/app/post-jobs/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport supabase from '@/lib/supabase';\r\n\r\nexport default function PostJobs() {\r\n  const router = useRouter();\r\n  const [formData, setFormData] = useState({\r\n    grad: '',\r\n    adresa: '',\r\n    broj_telefona: '',\r\n    dnevnica: '',\r\n    opis: ''\r\n  });\r\n  const [errors, setErrors] = useState<Record<string, string>>({});\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      const { data: { user }, error } = await supabase.auth.getUser();\r\n      if (error || !user) {\r\n        console.error('Auth error:', error);\r\n        router.push('/');\r\n      }\r\n    };\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const validateForm = () => {\r\n    const newErrors: Record<string, string> = {};\r\n    const phoneRegex = /^\\+?[0-9\\s-]{6,}$/;\r\n\r\n    if (!formData.grad.trim()) newErrors.grad = 'Grad je obavezan';\r\n    if (!formData.adresa.trim()) newErrors.adresa = 'Adresa je obavezna';\r\n    if (!formData.broj_telefona.trim()) {\r\n      newErrors.broj_telefona = 'Broj telefona je obavezan';\r\n    } else if (!phoneRegex.test(formData.broj_telefona)) {\r\n      newErrors.broj_telefona = 'Nevalidan format telefona';\r\n    }\r\n    if (!formData.dnevnica.trim()) {\r\n      newErrors.dnevnica = 'Dnevnica je obavezna';\r\n    } else if (isNaN(Number(formData.dnevnica))) {\r\n      newErrors.dnevnica = 'Mora biti broj';\r\n    }\r\n    if (!formData.opis.trim()) newErrors.opis = 'Opis posla je obavezan';\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n\r\n    setLoading(true);\r\n    \r\n    try {\r\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\r\n      \r\n      if (authError || !user) {\r\n        throw new Error('Niste autentifikovani');\r\n      }\r\n\r\n      const { data, error } = await supabase\r\n        .from('jobs')\r\n        .insert([{\r\n          grad: formData.grad,\r\n          adresa: formData.adresa,\r\n          broj_telefona: formData.broj_telefona,\r\n          dnevnica: Number(formData.dnevnica),\r\n          opis: formData.opis,\r\n          user_email: user.email\r\n        }])\r\n        .select();\r\n\r\n      if (error) throw error;\r\n\r\n      router.push('/find-jobs');\r\n    } catch (error: any) {\r\n      console.error('Full error:', error);\r\n      alert(`Greška: ${error.message || 'Došlo je do neočekivane greške'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n    if (errors[name]) setErrors(prev => ({ ...prev, [name]: '' }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-8\">\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-black mb-8\">Postavi novi oglas</h1>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div>\r\n            <label className=\"block text-black font-medium mb-2\">Grad *</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"grad\"\r\n              value={formData.grad}\r\n              onChange={handleChange}\r\n              className={`w-full p-3 border rounded-lg text-black ${errors.grad ? 'border-red-500' : 'border-gray-300'}`}\r\n            />\r\n            {errors.grad && <p className=\"text-red-500 text-sm mt-1\">{errors.grad}</p>}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-black font-medium mb-2\">Adresa *</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"adresa\"\r\n              value={formData.adresa}\r\n              onChange={handleChange}\r\n              className={`w-full p-3 border rounded-lg text-black ${errors.adresa ? 'border-red-500' : 'border-gray-300'}`}\r\n            />\r\n            {errors.adresa && <p className=\"text-red-500 text-sm mt-1\">{errors.adresa}</p>}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-black font-medium mb-2\">Broj telefona *</label>\r\n            <input\r\n              type=\"tel\"\r\n              name=\"broj_telefona\"\r\n              value={formData.broj_telefona}\r\n              onChange={handleChange}\r\n              className={`w-full p-3 border rounded-lg text-black ${errors.broj_telefona ? 'border-red-500' : 'border-gray-300'}`}\r\n            />\r\n            {errors.broj_telefona && <p className=\"text-red-500 text-sm mt-1\">{errors.broj_telefona}</p>}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-black font-medium mb-2\">Dnevnica (RSD) *</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"dnevnica\"\r\n              value={formData.dnevnica}\r\n              onChange={handleChange}\r\n              className={`w-full p-3 border rounded-lg text-black ${errors.dnevnica ? 'border-red-500' : 'border-gray-300'}`}\r\n            />\r\n            {errors.dnevnica && <p className=\"text-red-500 text-sm mt-1\">{errors.dnevnica}</p>}\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-black font-medium mb-2\">Opis posla *</label>\r\n            <textarea\r\n              name=\"opis\"\r\n              value={formData.opis}\r\n              onChange={handleChange}\r\n              className={`w-full p-3 border rounded-lg text-black h-32 ${errors.opis ? 'border-red-500' : 'border-gray-300'}`}\r\n            />\r\n            {errors.opis && <p className=\"text-red-500 text-sm mt-1\">{errors.opis}</p>}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-400\"\r\n          >\r\n            {loading ? 'Postavljanje...' : 'Postavi posao'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}