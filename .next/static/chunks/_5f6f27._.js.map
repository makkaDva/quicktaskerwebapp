{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Desktop/quicktaskerwebapp/lib/supabase.js"],"sourcesContent":["// Импортујте Supabase клијент\r\nimport { createClient } from '@supabase/supabase-js'\r\n\r\n// Иницијализујте Supabase клијент са env променљивима\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\r\n)\r\n\r\n// Експортујте клијент за употребу у другим фајловима\r\nexport default supabase"],"names":[],"mappings":"AAAA,8BAA8B;;;;AAC9B;AAIE;;AAFF,sDAAsD;AACtD,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD;uCAMb"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Lenovo/Desktop/quicktaskerwebapp/app/post-jobs/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState, FormEvent } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport supabase from '@/lib/supabase';\r\n\r\nexport default function PostJob() {\r\n  const router = useRouter();\r\n  const [formData, setFormData] = useState({\r\n    grad: '',\r\n    adresa: '',\r\n    opis: '',\r\n    dnevnica: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState<string | null>(null);\r\n\r\n  const handleSubmit = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setErrorMessage(null);\r\n\r\n    try {\r\n      // Provera autentifikacije\r\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\r\n\r\n      if (authError || !user?.email) {\r\n        setErrorMessage('Morate biti prijavljeni da biste postavili oglas');\r\n        setTimeout(() => router.push('/'), 2000);\r\n        return;\r\n      }\r\n\r\n      // Validacija brojčanog polja\r\n      if (isNaN(Number(formData.dnevnica))) {\r\n        setErrorMessage('Dnevnica mora biti brojčana vrednost');\r\n        return;\r\n      }\r\n\r\n      // Insert u Supabase\r\n      const { error } = await supabase\r\n        .from('jobs')\r\n        .insert([{\r\n          ...formData,\r\n          dnevnica: Number(formData.dnevnica),\r\n          user_email: user.email,\r\n          created_at: new Date().toISOString()\r\n        }])\r\n        .select();\r\n\r\n      if (error) {\r\n        console.error('Supabase Error:', error);\r\n        setErrorMessage(`Greška pri postavljanju: ${error.message}`);\r\n        return;\r\n      }\r\n\r\n      // Uspešno postavljanje\r\n      alert('Oglas uspešno postavljen!');\r\n      router.push('/find-jobs');\r\n\r\n    } catch (err) {\r\n      console.error('General Error:', err);\r\n      setErrorMessage('Došlo je do neočekivane greške');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 p-8\">\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Postavite novi oglas</h1>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"bg-white p-6 rounded-xl shadow-md\">\r\n          {/* Prikaz greške */}\r\n          {errorMessage && (\r\n            <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded-md\">\r\n              {errorMessage}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"grid gap-4 mb-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Grad <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                className=\"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500\"\r\n                value={formData.grad}\r\n                onChange={(e) => setFormData({...formData, grad: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Adresa <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                required\r\n                className=\"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500\"\r\n                value={formData.adresa}\r\n                onChange={(e) => setFormData({...formData, adresa: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Opis posla <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <textarea\r\n                required\r\n                className=\"w-full px-3 py-2 border rounded-md h-32 focus:ring-2 focus:ring-blue-500\"\r\n                value={formData.opis}\r\n                onChange={(e) => setFormData({...formData, opis: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Dnevnica (RSD) <span className=\"text-red-500\">*</span>\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                required\r\n                min=\"0\"\r\n                className=\"w-full px-3 py-2 border rounded-md [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none\"\r\n                value={formData.dnevnica}\r\n                onChange={(e) => setFormData({...formData, dnevnica: e.target.value})}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 disabled:bg-gray-400 transition-colors flex justify-center items-center gap-2\"\r\n          >\r\n            {loading && (\r\n              <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n            )}\r\n            {loading ? 'Postavljanje...' : 'Postavi oglas'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 333, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}